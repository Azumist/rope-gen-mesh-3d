# RopeGenMesh3D

Allows for the creation of procedural rope and rope-like geometry with collisions and LODs.  
Important: this addon **WILL NOT** simulate dynamic ropes; its purpose is only to procedurally generate geometry.

![Generated cables](screen2.webp)

This addon consists of a single node that serves as a container. The `RenderingServer` is used to spawn geometry outside of the `SceneTree`. The geometry is created using `ImporterMesh`, with three additional levels of detail generated by skipping indices. Collisions can also be generated in a similar way using `PhysicsServer3D`.

The generated mesh will have its vertices colored as follows:
- **R channel**: Specifies how close a vertex is to the "hook" (index point).
- **G channel**: Divides `1.0` by the number of segments to calculate unit. Each vertex is assigned to a specific segment, calculated as `unit * index`. Can be used to break unison movement in the shader, or track the segment index for i.e. different textures in the shader.

There is a simple wind .gdshader file in the `shaders` directory that demonstrates how to use the vertex colors.

The node also includes a simple visual UV editor that allows for better placement of the generated mesh on a texture or trim sheet.

![UV Editor](screen1.png)

---

As of now, `RopeGenMesh3D` exposes the following public API:

### Signals

`generation_finished`  
Emitted when mesh generation is complete.

### Methods

`func has_generated_mesh() -> bool`  
Returns `true` if there are active RIDs for meshes registered in the `RenderingServer` and valid `RopeData` present.

`func calculate_global_point_at(rope_point_idx: int, factor: float) -> Vector3`  
Calculates a 3D point in global coordinates at the given index point of `rope_data`, interpolated toward the next index by `factor`. The resulting point is affected by the sag factor.  
Use this method when you want to spawn objects “on” the rope.
